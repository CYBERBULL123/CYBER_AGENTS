{% extends "base.html" %}

{% block title %}CyberAgent AI - Next-Gen Security{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto text-center">
    <h1 class="text-5xl font-extrabold text-blue-400">CyberAgent AI</h1>
    <p class="mt-4 text-lg text-gray-300">
        AI-driven cybersecurity automation powered by CrewAI, LLMs, and Gemini AI.  
        Detect, analyze, and respond to security threats autonomously.
    </p>

    <!-- Features Section -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
        <div class="bg-gray-800 p-6 rounded-lg shadow-md hover:scale-105 transition-transform">
            <span class="material-icons text-blue-400 text-5xl">security</span>
            <h2 class="text-lg font-bold mt-2">Threat Detection</h2>
            <p class="text-gray-300">AI-powered real-time detection of cyber threats.</p>
        </div>

        <div class="bg-gray-800 p-6 rounded-lg shadow-md hover:scale-105 transition-transform">
            <span class="material-icons text-green-400 text-5xl">shield</span>
            <h2 class="text-lg font-bold mt-2">Data Protection</h2>
            <p class="text-gray-300">AI agents ensure secure encryption and data compliance.</p>
        </div>

        <div class="bg-gray-800 p-6 rounded-lg shadow-md hover:scale-105 transition-transform">
            <span class="material-icons text-red-400 text-5xl">warning</span>
            <h2 class="text-lg font-bold mt-2">Incident Response</h2>
            <p class="text-gray-300">Automated incident response with forensic insights.</p>
        </div>
    </div>

    <a href="/tools" class="mt-6 inline-block bg-blue-500 px-8 py-4 rounded-lg text-white hover:bg-blue-600 text-lg">
        Launch AI Tools
    </a>
</div>
{% endblock %}

{% block chart %}
<!-- ðŸ”¹ Cybersecurity Analytics Dashboard -->
<div class="w-full bg-gray-800 p-6 rounded-lg shadow-lg mt-12">
    <h2 class="text-3xl font-bold text-blue-400 text-center">Cybersecurity Analytics</h2>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8">
        
        <!-- Threat Detection Metrics -->
        <div class="w-full h-[400px] flex flex-col justify-center items-center bg-gray-900 p-4 rounded-lg shadow-md">
            <h3 class="text-xl font-bold text-gray-300">Threat Intelligence Overview</h3>
            <canvas id="threatMetrics"></canvas>
        </div>

        <!-- Threat Types -->
        <div class="w-full h-[400px] flex flex-col justify-center items-center bg-gray-900 p-4 rounded-lg shadow-md">
            <h3 class="text-xl font-bold text-gray-300">Threat Distribution</h3>
            <canvas id="threatTypes"></canvas>
        </div>

        <!-- Attack Trends -->
        <div class="col-span-1 lg:col-span-2 w-full h-[400px] flex flex-col justify-center items-center bg-gray-900 p-4 rounded-lg shadow-md">
            <h3 class="text-xl font-bold text-gray-300">Attack Trends Over Time</h3>
            <canvas id="attackTrends"></canvas>
        </div>

    </div>
</div>

<!-- Load Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // Threat Intelligence Overview (Bar Chart)
    var ctx1 = document.getElementById('threatMetrics').getContext('2d');
    var threatMetrics = new Chart(ctx1, {
        type: 'bar',
        data: {
            labels: ['Intrusions Detected', 'Resolved Incidents', 'AI Scans'],
            datasets: [{
                label: 'Security Events',
                data: [45, 30, 70], // Sample Data
                backgroundColor: ['#f87171', '#60a5fa', '#34d399'],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: { y: { beginAtZero: true } }
        }
    });

    // Threat Distribution (Doughnut Chart)
    var ctx2 = document.getElementById('threatTypes').getContext('2d');
    var threatTypes = new Chart(ctx2, {
        type: 'doughnut',
        data: {
            labels: ['Malware', 'Phishing', 'Ransomware', 'DDoS', 'Insider Threats'],
            datasets: [{
                data: [40, 20, 15, 10, 15], // Sample Data
                backgroundColor: ['#ef4444', '#f59e0b', '#10b981', '#3b82f6', '#a855f7'],
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
        }
    });

    // Attack Trends Over Time (Line Chart)
    var ctx3 = document.getElementById('attackTrends').getContext('2d');
    var attackTrends = new Chart(ctx3, {
        type: 'line',
        data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
            datasets: [{
                label: 'Cyber Attacks',
                data: [5, 10, 8, 15, 12, 18], // Sample Data
                borderColor: '#f43f5e',
                backgroundColor: 'rgba(244, 63, 94, 0.2)',
                fill: true
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: { y: { beginAtZero: true } }
        }
    });
</script>
{% endblock %}
